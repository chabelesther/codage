<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C√©sar Chiffreur/D√©chiffreur</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="D√©couvre le chiffrement C√©sar et transforme chaque message en √©nigme captivante! ‚ú®üîêüìú #ChiffrementCesar #AventureSecrete">
  <meta name="keywords" content="Chiffrement C√©sar, Cryptographie, S√©curit√©, Enigme, Aventure Secr√®te">
  <meta name="author" content="BOSSA Chabel">
  <meta name="robots" content="index, follow"> <!-- Indique aux moteurs de recherche d'indexer et de suivre les liens de la page -->

  <!-- Balises Open Graph pour un meilleur partage sur les r√©seaux sociaux -->
  <meta property="og:title" content="Chiffrement C√©sar - Aventure Secr√®te">
  <meta property="og:description" content="D√©couvre le chiffrement C√©sar et transforme chaque message en √©nigme captivante! ‚ú®üîêüìú">
  <meta property="og:image" content="https://o.remove.bg/downloads/365dd09c-8eb3-4b20-99a4-7b18a393329e/cesar2-removebg-preview.png">
  <meta property="og:url" content="URL_DE_TON_SITE">
  <meta name="twitter:card" content="summary_large_image">
  <link rel="shortcut icon" href="cesar-i.png" type="image/png">
  <!-- Inclusion de Bootstrap CSS (version 5.3.0) -->
  <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">


  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <link rel="stylesheet" href="style.css">
  <!-- Inclusion de TypeIt -->
  <script src="https://cdn.jsdelivr.net/npm/typeit/dist/typeit.min.js"></script>
   
</head>

<body>

  <header class="m-1 py-2">
    <h1>C√©sar Chiffreur/D√©chiffreur</h1>
    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
      Comment √ßa marche?
    </button>
  </header>

  <p class="text-center">Entrez la cl√© : <input type="number" id="key" value="1" required></p>
  <textarea id="message" rows="5" cols="50" placeholder="Entrez le message"></textarea>

  <div class="btn-container d-flex  m-2 p-2 ">
    <button onclick="applyCipher('encrypt')">Chiffrer</button>
    <button onclick="applyCipher('decrypt')">D√©chiffrer</button>
  </div>
  <hr>
  <label for="result">Le message d√©chiffr√©/chiffr√© est :</label>
  <textarea id="result"></textarea>
  <div class="option ">
    <div id="options">
      <label for="caseConversion">Convertir en : </label>
      <select id="caseConversion">
        <option value="default">Pas de conversion</option>
        <option value="uppercase">Majuscules uniquement</option>
        <option value="lowercase">Minuscules uniquement</option>
      </select>
    </div>
    <div class="share m-2">
      <p>Partager votre message : <a onclick="shareOnWhatsApp()"><i class="fab fa-whatsapp"></i></a>
        <a id="shareFacebook" onclick="shareOnFacebook()"><i class="fab fa-facebook"></i></a></p>
    </div>
    <button id="copyButton" onclick="copyToClipboard()"></button>
  </div>


  <div class="modal shadow fade custom-zoom-slide" id="exampleModal" tabindex="-1"
  aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
      <div class="modal-content">
          <div class="modal-header">
              <h4 class="modal-title" id="exampleModalLabel">R√®gle du jeu</h5>
                  <button type="button" class="btn-close" data-bs-dismiss="modal"
                      aria-label="Fermer"></button>
          </div>
          <div class="modal-body modal-dialog-scrollable modal-lg">
            
              <section id="how-to-use">
                <h2>Explore le monde du chiffrement C√©sar!</h2>
                <p>Bienvenue dans l'univers du chiffrement C√©sar! Transforme la s√©curit√© en une aventure palpitante avec ce programme simple et amusant :</p>
              
                <ol>
                  <li>
                    <p><strong>Choisis ta cl√© magique :</strong> C'est comme choisir le niveau de difficult√© d'une qu√™te! Entres un nombre, ta cl√©, et d√©couvre le pouvoir du chiffrement.</p>
                  </li>
              
                  <li>
                    <p><strong>R√©dige ton message secret :</strong> Sois cr√©atif! Utilise des majuscules, des minuscules, et m√™me des emojis. Laisse libre cours √† ton imagination!</p>
                  </li>
              
                  <li>
                    <p><strong>Lance le sortil√®ge :</strong> Appuie sur "Chiffrer" et regarde ta phrase se m√©tamorphoser en un myst√®re captivant. Ou "D√©chiffrer" pour r√©v√©ler les secrets cach√©s.</p>
                  </li>
              
                  <li>
                    <p><strong>Comprends le principe du d√©chiffrement de C√©sar :</strong> Lors du d√©chiffrement, chaque lettre est remplac√©e par une autre pr√©c√©dente gr√¢ce √† un d√©calage dans l'alphabet.</p>
                    <p><em>Exemple :</em> D√©chiffrer "Bonjour" avec un d√©calage de 3. Pour B, regarder trois lettres avant : Y. Pour O, boucler l'alphabet : N, M, L. "Bonjour" se d√©chiffre "Ymnqjy".</p>
                    <p>Une m√©thode plus math√©matique : noter A=0, B=1, ‚Ä¶, Z=25, soustraire une constante (le d√©calage) et conserver le r√©sultat modulo 26 pour obtenir le texte d√©chiffr√©.</p>
                    <p><em>Exemple :</em> B=1, soustraire le d√©calage 1-3=-2 et retrouver -2 mod 26 = 24, donc B se d√©code X. O=14, soustraire 14-3=11, donc O se d√©code L. "Bonjour" se d√©chiffre "Xlknrjy".</p>
                  </li>
                  <li>
                    <p><strong>Fonctionnalit√© suppl√©mentaire disponible :</strong> Apr√®s avoir chiffr√©/d√©chiffr√© ton messge , tu peux facilement le partager par message sur whatsapp ou Facebook  , tu peux √©galement le copier en cliquant sur le bouton <em>Copier</em>. De plus tu peux convertir en <em>Minuscule</em> ou <em>Majuscule</em> en s√©lection le selecteur d√©roulant</p>
                  </li>
                </ol>
              
                <h2>Laisse parler ton imagination!</h2>
                <p>Avec ce programme, chaque message devient une √©nigme √† r√©soudre. Par exemple, essaie de chiffrer "Bonjour les amis!" avec une cl√© de 3, et d√©couvre le r√©sultat. Ensuite, d√©fie tes amis de le d√©chiffrer!</p>
                <p>Transforme le quotidien en aventure! La cl√© par d√©faut est 1, mais n'h√©site pas √† la changer pour rendre tes messages encore plus myst√©rieux!</p>
                <div class="">
                  <p>Partage l'aventure du chiffrement C√©sar avec tes amis!</p>
                  <button class="btn " onclick="onFacebook()"><i class="fab fa-facebook-square"></i> Facebook</button>
                  <button class="btn " onclick="onWhatsapp()"><i class="fab fa-whatsapp-square"></i> WhatsApp</button>
                </div>
              </section>
            
          </div>
      </div>
  </div>
</div>
  <!-- Ajout de la modalit√© pour le partage  -->
  <div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="shareModalLabel">Partage l'aventure!</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fermer"></button>
        </div>
        <div class="modal-body">
          <p>Partage l'aventure du chiffrement C√©sar avec tes amis!</p>
          <button class="btn " onclick="onFacebook()"><i class="fab fa-facebook-square"></i> Facebook</button>
          <button class="btn " onclick="onWhatsapp()"><i class="fab fa-whatsapp-square"></i> WhatsApp</button>
        </div>
      </div>
    </div>
  </div>
 

  <script>
    function applyCipher(operation) {
      const key = parseInt(document.getElementById("key").value);
      const message = document.getElementById("message").value;
      const resultTextarea = document.getElementById("result");
      const caseConversion = document.getElementById("caseConversion").value;
      if (message === "") {
        alert("Veuillez entrer un  avant de cliquer sur chiffrer ou d√©chiffrer.");
        return;
      }
      let result = "";

      for (let i = 0; i < message.length; i++) {
        let charCode = message.charCodeAt(i);

        if (charCode >= 65 && charCode <= 90) {
          // Uppercase letters
          result += String.fromCharCode(applyOperation(charCode, 65, key, operation));
        } else if (charCode >= 97 && charCode <= 122) {
          // Lowercase letters
          result += String.fromCharCode(applyOperation(charCode, 97, key, operation));
        } else {
          // Non-alphabetic characters
          result += applySpecialCharacter(charCode, key, operation);
        }
      }

      if (caseConversion === 'uppercase') {
        result = result.toUpperCase();
      } else if (caseConversion === 'lowercase') {
        result = result.toLowerCase();
      }

      resultTextarea.value = result;
      document.querySelector('label').style.display = "block";
      document.querySelector('#result').style.display = "block";
      document.querySelector('#copyButton').style.display = "initial";
      document.querySelector('.share').style.display = "flex";

      // Vider le textarea avant l'animation
      resultTextarea.value = ""; // vider le textarea

      // Appel de la fonction TypeIt avec le texte du r√©sultat
      new TypeIt('#result', {
        strings: [result],
        speed: 50,
        loop: false, // pas de r√©p√©tition
        cursor: true,
        lifeLike: true,
        align: "left",
      }).go();

    }

    function applySpecialCharacter(charCode, key, operation) {
      if (operation === 'encrypt') {
        return String.fromCharCode((charCode + key + 65536) % 65536);
      } else if (operation === 'decrypt') {
        return String.fromCharCode((charCode - key + 65536) % 65536);
      }
    }

    function copyToClipboard() {
      const resultTextarea = document.getElementById("result");
      resultTextarea.select();
      document.execCommand("copy");
      document.getElementById("copyButton").classList.toggle('active');
    }

    function applyOperation(charCode, base, key, operation) {
      const shift = operation === 'encrypt' ? key : -key;
      const resultCharCode = (charCode - base + shift + 26) % 26 + base;
      return resultCharCode;
    }



    // ==========================sharing==========================
   
      // Fonction pour partager sur Facebook
      function onFacebook() {
        new bootstrap.Modal(document.getElementById('shareModal')).hide(); // Ferme la modalit√© apr√®s le partage
      var message = encodeURIComponent("D√©couvre le chiffrement C√©sar et transforme chaque message en √©nigme captivante! ‚ú®üîêüìú #ChiffrementCesar #AventureSecrete");
      var url = encodeURIComponent(window.location.href);
      window.open("https://www.facebook.com/sharer/sharer.php?u=" + url + "&quote=" + message, "_blank");
      localStorage.setItem('shared', 'true'); // Stocke la variable 'shared' comme true dans le stockage local
    }

    // Fonction pour partager sur WhatsApp
    function onWhatsapp() {
      new bootstrap.Modal(document.getElementById('shareModal')).hide(); // Ferme la modalit√© apr√®s le partage
      var message = encodeURIComponent("D√©couvre le chiffrement C√©sar et transforme chaque message en √©nigme captivante! ‚ú®üîêüìú #ChiffrementCesar #AventureSecrete");
      var url = encodeURIComponent(window.location.href);
      window.open("https://wa.me/?text=" + message + "%20" + url, "_blank");
      localStorage.setItem('shared', 'true'); // Stocke la variable 'shared' comme true dans le stockage local
    }

    // Fonction pour ouvrir la modalit√© √† intervalles r√©guliers (toutes les 10 secondes ici)
    setInterval(function() {
      var hasShared = localStorage.getItem('shared');
      if (hasShared !== 'true') {
        var shareModal = new bootstrap.Modal(document.getElementById('shareModal'));
        shareModal.show();
      }
    }, 24000); // 240 000 millisecondes = 4 min
    //  ===================message partage ============================
    function shareOnWhatsApp() {
  // R√©cup√©ration du r√©sultat du chiffrement ou du d√©chiffrement
  const result = document.getElementById("result").value;

  // V√©rifier si le r√©sultat n'est pas vide
  if (result.trim() !== "") {
    // Construire le lien WhatsApp avec le message pr√©-rempli
    const whatsappLink = `https://wa.me/?text=${encodeURIComponent(result)}`;

    // Ouvre le lien dans une nouvelle fen√™tre ou un nouvel onglet
    window.open(whatsappLink, '_blank');
  } else {
    alert("Veuillez chiffrer ou d√©chiffrer un message avant de partager sur WhatsApp.");
  }
}

function shareOnFacebook() {
  // R√©cup√©rer le r√©sultat du chiffrement ou du d√©chiffrement
  const result = document.getElementById("result").value;

  // V√©rifier si le r√©sultat n'est pas vide
  if (result.trim() !== "") {
    // Construire le lien Facebook avec le message pr√©-rempli
    const facebookLink = `https://www.facebook.com/sharer/sharer.php?u=&quote=${encodeURIComponent(result)}`;

    // Ouvrir le lien dans une nouvelle fen√™tre ou un nouvel onglet
    window.open(facebookLink, '_blank');
  } else {
    alert("Veuillez chiffrer ou d√©chiffrer un message avant de partager sur Facebook.");
  }
}


// Fonction qui redimensionne le textarea
setInterval(function resize() {
      var textarea = document.getElementById('result');
      // R√©initialiser la hauteur pour recalculer correctement
      textarea.style.height = 'auto';
      // Ajuster la hauteur du textarea en fonction de la hauteur du contenu
      textarea.style.height = textarea.scrollHeight + 2 + 'px';
    }, 500); 
  </script>
  <!-- Inclusion de Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</body>

</html>
